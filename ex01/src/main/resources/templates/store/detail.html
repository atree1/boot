<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{/layout/shopLayout}">


<style>
.inner_main_img img{
	width:540px;
	height:80px;
}
.gthumb img{
width:40px;
	height:10px;
}


</style>
<div class="container" style="margin-top: 20px;"
	layout:fragment="container">
	<div class="menuRoot">
		<div class="table-cell" style="">
			<span class="bigCategoryName" style="color: #9b9b9b; margin-right:10px;">여성의류</span>
			<span class="detailCategoryName" style="color: #9b9b9b; margin-right:10px;">> 티 & 탑</span>
			<span class="selectedMypageMenu selectedGoodsNameInner">
				> 양면기모 레터링맨투맨(주문폭주, 리오더폭발)</span>
		</div>
	</div>

	<div class="innerDetail_goods_info" style="padding-bottom: 50px;">
		<div class="img_area"
			style="border-right: 1px solid rgb(221, 221, 221);">
			<div class="gthumbs" style="max-height: 720px; overflow-y: auto;">
				<div class="gthumb">
					<img width="60" height="80"
						src="http://img6.sinsangmarket.co.kr/upfilesf/ssmGoods/u_154259213776627100_302507012.jpg"
						style="display: block;"> <span class="img_edge"></span>
				</div>
			
			</div>
			<div class="inner_main_img">
				<img width="540" height="720"
					src="https://img6.sinsangmarket.co.kr/lib/imageResizer.php?f=http://img6.sinsangmarket.co.kr/upfilesf/ssmGoods/u_15425921383346300_519679408.jpg&amp;h=907&amp;w=690">
			</div>
			<div id="innerDetail_goods_detail" class="goods_detail">
				<div class="div_line_1px" style="width: 632px; margin-right: 20px;"></div>
				<div class="goods_detail_title displayTable">
					<div class="table-cell">제품 상세설명</div>
				</div>
				<div class="goods_detail_text">
					설명설명
				</div>

				<div class="goods_comments_area">
					<div name="goods_comment_title" id="goods_comment_title"
						class="goods_comment_title displayTable">
						<div class="table-cell">
							상품문의 
							<span id="innerRepleTotalCount"
								style="color: #9b9b9b; font-size: 14px; font-weight: normal; vertical-align: top;">(0)</span>
						</div>
					</div>
					<div class="goods_comment_input"
						style="position: relative; box-sizing: border-box; border: 1px solid #e3e3e3; height: 150px;">
						<textarea id="innerCommentMsg" class="replyTextarea"
							placeholder="덧글을 입력해주세요." style="width: 100%; height: 100px;"></textarea>
						
						<button class="repleRegiBtn">등록하기</button>
					</div>
					<ul id="inner_goods_comments" style="position: relative;">
						<li class="g_comment_li" style="border-bottom: 1px solid #e3e3e3;"><div
								class="store_name ellipsis wstore_name">닉네임</div>
							<div class="datetime ellipsis">2018-09-13 05:01</div>	
							<div class="contents"
								style="margin-top: 17px; padding-bottom: 15px;">
								댓글댓글
								<div class="reply">
									<div class="qAnswerLogo">A</div>
									<div class="qAnswer">댓글댓글<br>댓글댓글</div>
								</div>
							</div>
						</li>
					</ul>
					<div style="text-align: center;">
						<div class="pageControlLeft" onclick="prev10PageMove()"
							title="10페이지 이전" style="margin-right: 2px; margin-top: 30px;"></div>
						<div class="innerShowPage"
							style="display: inline-block; vertical-align: top; margin-top: 30px;"></div>
						<div class="pageControlRight" onclick="next10PageMove()"
							title="10페이지 다음" style="margin-left: 2px; margin-top: 30px;"></div>
					</div>
				</div>
			</div>
		</div>
		<div class="info_area">
			<div class="info_area_inner"
				style="margin-left: 18px; position: relative;">
				<div class="more_goods">
					<div class="goods_name" th:text="${product.pname}">PNAME</div>
					<div class="detail_store_name">
						<span class="store" th:text="${store.saddress}">ADDRESS</span>
						/ <span th:text="${store.tel}">TEL<span>
					</div>
					<div class="goods_price" th:text="${product.price}">PRICE</div>
					<div class="div_line_1px" style="width: 100%; margin-bottom: 30px;"></div>
					<table class="goods_option_table" style="margin-bottom: 30px;">
						<tbody>
							<tr>
								<td class="title">색상</td>
								<td class="color">오트밀 차콜그레이</td>
							</tr>
							<tr>
								<td class="title">혼용률</td>
								<td class="content">면</td>
							</tr>
							<tr>
								<td class="title">제조국</td>
								<td class="content">대한민국</td>
							</tr>
						</tbody>
					</table>
					<div class="div_line_1px" style="width: 100%; margin-bottom: 21px;"></div>
					<table class="goods_option_table" style="margin-bottom: 30px;">
						<tbody>
							<tr>
								<td class="title" style="color: #ff7675;">신상배송</td>
								<td class="content">카카오 결제만 가능, 택배배송<span
									style="color: #b0b0b0;">(우체국택배)</span></td>
							</tr>
						</tbody>
					</table>
						<div class="option_area">
							<ul class="goods_option_ul" style="width: 100%;" th:each="arr:${product.optList}">
								<li class="min-height42 optionLi">
									<div class="option">
										<div style="color: #333; font-weight: 500; font-size: 14px;" 
										th:text="|SIZE / ${arr.size}|">SIZE</div>
										<div style="margin-top: 6px; font-size: 12px;"
											th:text="|재고수량 / ${arr.qty}|">QTY</div>
											
									</div>
									<div class="count">
										<div class="option_count_control" style="">
											<div class="detailUpDownDiv">
												<div class="detailDownArea"></div>
												<input th:name="${arr.opno}" class="detailUpDownNumArea" maxlength="3" type="text"
													value="0">
												<div class="detailUpArea"></div>
											</div>
										</div>
									</div>
								</li>
							</ul>
							<div class="div_line_1px"
								style="width: 100%; margin-top: 20px; margin-bottom: 15px;"></div>
						</div>
					<div class="div_line_1px" style="width: 100%; margin-bottom: 21px;"></div>
					<form action="/order/list">
						<input type="hidden" name="pno" th:value="${product.pno}">
						<input type="hidden" name="mid" value="test1">
				
						<div class="displayTable"
							style="width: 100%; background-color: #ffefef; height: 50px; padding: 0px 16px; box-sizing: border-box; margin-bottom: 15px;">
							<div class="table-cell" style="font-size: 14px;">총 결제금액</div>
							<div class="detailOrderPrice table-cell"
								style="text-align: right; font-size: 20px; color: #ff5252; font-weight: 500;">0원
							</div>
						</div>

						<div class="btn_area">
							<div class="basketInfoTextBox basketMoveBox"
								style="position: absolute; left: 111px; top: 500px; width: 318px; height: 100px; z-index: 3; display: none">
								<div class="close_btn"
									style="position: absolute; right: 8px; top: 8px;"></div>
								<div
									style="text-align: center; font-size: 14px; margin-top: 16px; font-weight: bold; letter-spacing: -0.4px;">
									장바구니에 상품이 담겼습니다.<br>
									<button class="basketMoveBtn" onclick="goShoppingBasket()"
										style="margin-top: 14px; height: 38px; cursor: pointer;">
										장바구니 바로가기 <span class="btn_css_arrow"></span>
									</button>
								</div>
							</div>
	
							<button class="btn_order" style="display: inline-block;">장바구니에
								담기</button>
							<button class="btn_order_direct" style="display: inline-block;">
								<div class="symbolLogo"></div>
								주문하기
							</button>
							
						</div>
					</form>
				</div>
				<div class="div_line_1px"></div>
				<div class="mgoods_images">

				</div>
			</div>
		</div>
	</div>
</div>

<th:block layout:fragment="script"> 
<script th:inline="javascript">
	$(document).ready(function() {
	
		(function() {
			
			var firstImg=[[${product.imgList[0]}]];
			var str="";
			console.log(firstImg);
			var fileCallPath =  encodeURIComponent(firstImg.ipath+ "/"+ firstImg.uuid +"_"+firstImg.iname);
			console.log(fileCallPath);
			str += "<li data-path='"+ firstImg.ipath+"' data-uuid='"+ firstImg.uuid+"' data-filename='"+ firstImg.iname+"'><div>";
			str += "<img src='/display?fileName="+fileCallPath+"'>";
			str+="<p><a href='#'>"+ firstImg.iname+"</a></p>"
			str += "</div>";
			str +"</li>";
			
			console.log("filePath: "+fileCallPath);
					
				
				$(".inner_main_img").html(str);
		
				
		})();
		
	(function() {
			
			var imgList=[[${product.imgList}]];
			var str="";
			console.log(imgList);
			for(img of imgList){
				
			var fileCallPath =  encodeURIComponent(img.ipath+ "/"+ img.uuid +"_"+img.iname);
			console.log(fileCallPath);
			str += "<li data-path='"+ img.ipath+"' data-uuid='"+ img.uuid+"' data-filename='"+ img.iname+"'><div>";
			str += "<img src='/display?fileName="+fileCallPath+"'>";
			str+="<p><a href='#'>"+ img.iname+"</a></p>"
			str += "</div>";
			str +"</li>";
			}
			console.log("filePath: "+fileCallPath);
					
				
				$(".gthumb").html(str);
		
				
		})();
		
		
		
		$(".detailDownArea").click(function(e) {
			var count = $(this).next("input").val();
			if (count > 0) {
				count -= 1;
				$(this).next("input").val(count);
			} else {
				$('html').css({
					'cursor' : 'url(cursor.png), auto'
				});
			}

		})

		$(".detailUpArea").click(function(e) {

			var count = Number($(this).prev("input").val());

			count += 1;
			$(this).prev("input").val(count);

		})

		$(".gthumb").mouseenter(function() {
			$(this).find("span").attr("class", "hover");
			var src = $(this).find("img").attr("src");
			$(".inner_main_img").find("img").attr("src", src);
		}).mouseout(function() {
			$(this).find("span").attr("class", "img_edge")
		})

		$(".btn_order").click(function(e) {
			$(".basketInfoTextBox").css("display", "block")
		})

		$(".close_btn").click(function(e) {
			$(".basketInfoTextBox").css("display", "none")
		});
		
		$(".repleRegiBtn").click(function(){
			if($(".replyTextarea")[0].textLength === 0){
				alert("덧글을 입력해주세요");	
			}
		});
		
		$(".btn_order_direct").click(function(){
			
		});
	});
</script> 
</th:block>

</html>